@import "tailwindcss";

:root {
  --background: #0a0a0f;
  --foreground: #f0f0f5;
  --accent-primary: #a855f7;
  --accent-secondary: #ec4899;
  --accent-tertiary: #06b6d4;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: "Inter", "Geist", -apple-system, BlinkMacSystemFont, "Segoe UI",
    sans-serif;
  min-height: 100vh;
}

* {
  box-sizing: border-box;
}

::selection {
  background: #a855f744;
  color: #f0f0f5;
}

a {
  color: inherit;
}

/* BEM Classes */
.app {
  @apply min-h-screen text-white;
  background: linear-gradient(135deg, #0a0a0f 0%, #1a0a2e 25%, #16213e 50%, #0f3460 75%, #0a0a0f 100%);
  background-size: 400% 400%;
  animation: gradientShift 15s ease infinite;
  position: relative;
}

.app::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 20% 30%, rgba(168, 85, 247, 0.15) 0%, transparent 50%),
    radial-gradient(circle at 80% 70%, rgba(236, 72, 153, 0.15) 0%, transparent 50%),
    radial-gradient(circle at 50% 50%, rgba(6, 182, 212, 0.1) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
}

@keyframes gradientShift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

.app__layout {
  @apply grid gap-6 lg:grid-cols-3;
}

.app__container {
  @apply relative mx-auto max-w-7xl px-6 py-8 space-y-6;
  position: relative;
  z-index: 1;
}

/* Header */
.header {
  @apply flex flex-col gap-4 p-6 shadow-2xl;
  background: rgba(15, 15, 25, 0.7);
  backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(168, 85, 247, 0.3);
  border-radius: 24px;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1),
    0 0 40px rgba(168, 85, 247, 0.1);
}

.header__content {
  @apply flex flex-wrap items-center justify-between gap-3;
}

.header__title-section {
  @apply flex flex-col;
}

.header__subtitle {
  @apply text-sm uppercase tracking-wider;
  color: #ec4899;
  text-shadow: 0 0 10px rgba(236, 72, 153, 0.5);
  font-weight: 600;
  letter-spacing: 0.15em;
}

.header__title {
  @apply text-4xl font-bold;
  background: linear-gradient(135deg, #a855f7 0%, #ec4899 50%, #06b6d4 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: -0.02em;
}

.header__description {
  @apply text-slate-300;
  font-size: 0.95rem;
  line-height: 1.6;
}

.header__actions {
  @apply flex flex-wrap items-center gap-3;
}

/* Stat Pill */
.stat-pill {
  @apply rounded-xl px-4 py-2.5 shadow-lg;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  transition: all 0.3s ease;
}

.stat-pill:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
}

.stat-pill__label {
  @apply text-xs font-bold uppercase tracking-wider;
  opacity: 0.8;
}

.stat-pill__value {
  @apply text-xl font-extrabold;
  text-shadow: 0 0 10px currentColor;
}

.stat-pill--emerald {
  background: linear-gradient(135deg, rgba(168, 85, 247, 0.2) 0%, rgba(168, 85, 247, 0.1) 100%);
  color: #c084fc;
  border-color: rgba(168, 85, 247, 0.4);
  box-shadow: 0 0 20px rgba(168, 85, 247, 0.2);
}

.stat-pill--amber {
  background: linear-gradient(135deg, rgba(236, 72, 153, 0.2) 0%, rgba(236, 72, 153, 0.1) 100%);
  color: #f472b6;
  border-color: rgba(236, 72, 153, 0.4);
  box-shadow: 0 0 20px rgba(236, 72, 153, 0.2);
}

.stat-pill--cyan {
  background: linear-gradient(135deg, rgba(6, 182, 212, 0.2) 0%, rgba(6, 182, 212, 0.1) 100%);
  color: #22d3ee;
  border-color: rgba(6, 182, 212, 0.4);
  box-shadow: 0 0 20px rgba(6, 182, 212, 0.2);
}

.stat-pill--rose {
  background: linear-gradient(135deg, rgba(239, 68, 68, 0.2) 0%, rgba(239, 68, 68, 0.1) 100%);
  color: #f87171;
  border-color: rgba(239, 68, 68, 0.4);
  box-shadow: 0 0 20px rgba(239, 68, 68, 0.2);
}

/* Button */
.btn {
  @apply rounded-lg px-4 py-2 text-sm font-semibold transition;
}

.btn--primary {
  @apply bg-indigo-500 text-white hover:bg-indigo-400;
}

.btn--success {
  background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
  @apply text-white;
  border: 1px solid rgba(6, 182, 212, 0.3);
  box-shadow: 0 0 15px rgba(6, 182, 212, 0.3);
  transition: all 0.3s ease;
}

.btn--success:hover {
  background: linear-gradient(135deg, #0891b2 0%, #0e7490 100%);
  box-shadow: 0 0 25px rgba(6, 182, 212, 0.5);
  transform: translateY(-1px);
}

.btn--submit {
  @apply rounded-xl px-6 py-3 text-sm font-bold text-white shadow-lg disabled:opacity-50 disabled:cursor-not-allowed;
  background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  box-shadow: 
    0 4px 15px rgba(168, 85, 247, 0.4),
    0 0 30px rgba(168, 85, 247, 0.2);
}

.btn--submit:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 
    0 6px 20px rgba(168, 85, 247, 0.5),
    0 0 40px rgba(168, 85, 247, 0.3);
  background: linear-gradient(135deg, #9333ea 0%, #db2777 100%);
}

.btn--close {
  @apply rounded-full border border-white/20 bg-white/10 px-2 text-sm text-slate-200 hover:bg-white/20;
}

.btn--remove {
  @apply rounded-full border border-white/20 px-2 text-xs text-slate-200 hover:bg-white/10;
}

/* Sidebar */
.sidebar {
  @apply space-y-4 p-4 shadow-2xl;
  background: rgba(15, 15, 25, 0.6);
  backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(168, 85, 247, 0.2);
  border-radius: 20px;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.sidebar__title {
  @apply text-sm font-bold uppercase tracking-wider;
  color: #c084fc;
  text-shadow: 0 0 10px rgba(168, 85, 247, 0.5);
  letter-spacing: 0.1em;
}

.sidebar__section {
  @apply mt-6 space-y-3 p-4;
  background: rgba(255, 255, 255, 0.03);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(168, 85, 247, 0.15);
  border-radius: 16px;
}

.sidebar__section-title {
  @apply text-sm font-semibold text-slate-100;
}

/* Node Library */
.node-library {
  @apply grid grid-cols-2 gap-3;
}

.node-card {
  @apply rounded-xl px-3 py-3 text-left transition-all duration-300;
  border: 1px solid rgba(168, 85, 247, 0.2);
  background: rgba(15, 15, 25, 0.4);
  backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
}

.node-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(168, 85, 247, 0.2), transparent);
  transition: left 0.5s ease;
}

.node-card:hover {
  transform: translateY(-4px) scale(1.02);
  border-color: rgba(168, 85, 247, 0.5);
  box-shadow: 
    0 8px 25px rgba(168, 85, 247, 0.3),
    0 0 30px rgba(168, 85, 247, 0.1);
}

.node-card:hover::before {
  left: 100%;
}

.node-card__icon {
  @apply text-lg;
}

.node-card__title {
  @apply text-sm font-semibold text-white;
}

.node-card__description {
  @apply mt-1 text-xs text-slate-200;
}

.node-card__header {
  @apply flex items-center gap-2;
}

/* Node Card Component */
.node {
  @apply relative overflow-hidden p-4 shadow-2xl;
  background: rgba(15, 15, 25, 0.7);
  backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(168, 85, 247, 0.3);
  border-radius: 20px;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.node__glow {
  @apply absolute inset-0 opacity-30;
}

.node__glow-inner {
  @apply absolute inset-0 blur-2xl;
}

.node__header {
  @apply relative flex items-start justify-between gap-3;
}

.node__info {
  @apply flex items-center gap-3;
}

.node__icon {
  @apply flex h-10 w-10 items-center justify-center rounded-lg text-lg font-semibold text-slate-900;
}

.node__content {
  @apply flex flex-col;
}

.node__title-row {
  @apply flex items-center gap-2;
}

.node__title {
  @apply text-lg font-semibold text-white;
}

.node__badge {
  @apply rounded-full border border-white/20 bg-white/10 px-2 py-1 text-xs text-slate-200;
}

.node__description {
  @apply text-sm text-slate-300;
}

.node__hint {
  @apply mt-3 rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-xs text-slate-200;
}

.node__text-area {
  @apply mt-4;
}

.node__textarea {
  @apply w-full resize-none rounded-lg px-3 py-3 text-sm outline-none;
  background: rgba(10, 10, 15, 0.8);
  border: 1px solid rgba(168, 85, 247, 0.3);
  color: #f0f0f5;
  transition: all 0.3s ease;
}

.node__textarea:focus {
  border-color: rgba(168, 85, 247, 0.6);
  box-shadow: 0 0 20px rgba(168, 85, 247, 0.3);
  outline: none;
}

.node__variables {
  @apply mt-2 text-xs;
  color: #f472b6;
  text-shadow: 0 0 8px rgba(236, 72, 153, 0.5);
}

.node__handles {
  @apply relative mt-4 flex items-start justify-between gap-6;
}

.node__handles-left {
  @apply flex flex-col gap-2;
}

.node__handles-right {
  @apply flex flex-col items-end gap-2;
}

/* Handle */
.handle {
  @apply flex items-center gap-2 text-xs text-slate-200;
}

.handle__dot {
  @apply inline-flex h-3 w-3 rounded-full border border-white/30;
}

.handle__label {
  @apply rounded-full border border-white/20 bg-white/10 px-2 py-1;
}

/* Canvas */
.canvas {
  @apply space-y-4 lg:col-span-2;
}

.canvas__container {
  @apply p-4 shadow-2xl;
  background: rgba(15, 15, 25, 0.6);
  backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(168, 85, 247, 0.2);
  border-radius: 20px;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.canvas__title {
  @apply mb-4 text-sm font-bold uppercase tracking-wider;
  color: #c084fc;
  text-shadow: 0 0 10px rgba(168, 85, 247, 0.5);
  letter-spacing: 0.1em;
}

.canvas__grid {
  @apply grid gap-4 md:grid-cols-2;
}

.canvas__empty {
  @apply col-span-full rounded-xl border border-dashed border-white/20 bg-white/10 px-6 py-10 text-center text-slate-300;
}

/* Edge List */
.edge-list {
  @apply space-y-2 p-4;
  background: rgba(255, 255, 255, 0.03);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(168, 85, 247, 0.15);
  border-radius: 16px;
}

.edge-list__header {
  @apply flex items-center justify-between;
}

.edge-list__title {
  @apply text-sm font-semibold text-slate-100;
}

.edge-list__count {
  @apply text-xs text-slate-300;
}

.edge-list__items {
  @apply space-y-2;
}

.edge-item {
  @apply flex items-center justify-between rounded-lg px-3 py-2 text-xs;
  background: rgba(15, 15, 25, 0.5);
  border: 1px solid rgba(168, 85, 247, 0.2);
  color: #e9d5ff;
  transition: all 0.2s ease;
}

.edge-item:hover {
  border-color: rgba(168, 85, 247, 0.4);
  background: rgba(168, 85, 247, 0.1);
}

.edge-item__text {
  @apply text-slate-200;
}

/* Form */
.form-group {
  @apply grid grid-cols-2 gap-2;
}

.form-label {
  @apply text-xs text-slate-300;
}

.form-select {
  @apply mt-1 w-full rounded-lg px-2 py-2 text-xs outline-none;
  background: rgba(10, 10, 15, 0.8);
  border: 1px solid rgba(168, 85, 247, 0.3);
  color: #f0f0f5;
  transition: all 0.3s ease;
}

.form-select:focus {
  border-color: rgba(168, 85, 247, 0.6);
  box-shadow: 0 0 15px rgba(168, 85, 247, 0.3);
  outline: none;
}

/* Modal */
.modal {
  @apply fixed inset-0 z-50 flex items-center justify-center bg-black/60;
}

.modal__overlay {
  @apply relative mx-4 w-full max-w-md p-6 shadow-2xl;
  background: rgba(15, 15, 25, 0.95);
  backdrop-filter: blur(30px) saturate(180%);
  border: 1px solid rgba(168, 85, 247, 0.4);
  border-radius: 24px;
  box-shadow: 
    0 20px 60px rgba(0, 0, 0, 0.5),
    0 0 60px rgba(168, 85, 247, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.modal__close {
  @apply absolute right-4 top-4 rounded-full border border-white/20 bg-white/10 px-2 text-sm text-slate-200 hover:bg-white/20;
}

.modal__title {
  @apply mb-4 text-xl font-semibold;
}

.modal__title--error {
  color: #f87171;
  text-shadow: 0 0 15px rgba(248, 113, 113, 0.5);
}

.modal__title--success {
  color: #c084fc;
  text-shadow: 0 0 15px rgba(168, 85, 247, 0.5);
}

.modal__content {
  @apply space-y-3;
}

.modal__row {
  @apply flex items-center justify-between rounded-lg px-4 py-3;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(168, 85, 247, 0.2);
  backdrop-filter: blur(10px);
}

.modal__label {
  @apply text-slate-300;
}

.modal__value {
  @apply text-lg font-semibold text-white;
}

.modal__badge {
  @apply rounded-full px-3 py-1 text-sm font-semibold;
}

.modal__badge--success {
  background: rgba(168, 85, 247, 0.3);
  color: #c084fc;
  border: 1px solid rgba(168, 85, 247, 0.5);
  box-shadow: 0 0 15px rgba(168, 85, 247, 0.3);
}

.modal__badge--error {
  background: rgba(248, 113, 113, 0.3);
  color: #fca5a5;
  border: 1px solid rgba(248, 113, 113, 0.5);
  box-shadow: 0 0 15px rgba(248, 113, 113, 0.3);
}

.modal__error-text {
  @apply text-slate-200;
}
